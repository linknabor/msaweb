(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"5JxR":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login",attrs:{id:"app"}},[r("div",{staticClass:"login-con"},[r("Card",{attrs:{bordered:!1}},[r("Tabs",{attrs:{value:"name1"}},[r("TabPane",{attrs:{label:"密码登录",name:"name1"}},[r("mima",{on:{"on-success-mima":e.handleSubmit}})],1),e._v(" "),r("TabPane",{staticStyle:{float:"right"},attrs:{label:"手机登录",name:"name2"}},[r("phone",{attrs:{rules:e.rules1}})],1)],1)],1)],1)])},a=[],o=r("yT7P"),s=(r("VRzm"),r("p46w"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-con"},[r("Form",{ref:"formTag",attrs:{model:e.formTag,rules:e.rules1}},[r("FormItem",{attrs:{prop:"phonenumber"}},[r("Input",{attrs:{placeholder:"请输入手机号"},model:{value:e.formTag.phonenumber,callback:function(t){e.$set(e.formTag,"phonenumber",t)},expression:"formTag.phonenumber"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:16,type:"ios-call"}})],1)])],1),e._v(" "),r("FormItem",{attrs:{prop:"phoneIdent"}},[r("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[r("Button",{staticClass:"btn",attrs:{disabled:e.disabled,type:"warning"},on:{click:e.getCode}},[e._v(e._s(e.btnContent))])],1),e._v(" "),r("Input",{staticStyle:{width:"50%","margin-left":"10px"},attrs:{placeholder:"请输入手机验证码"},model:{value:e.formTag.phoneIdent,callback:function(t){e.$set(e.formTag,"phoneIdent",t)},expression:"formTag.phoneIdent"}})],1),e._v(" "),r("FormItem",[r("Button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){e.phoneSubmit("formTag")}}},[e._v("登录")])],1)],1)],1)}),i=[],m={name:"phone",data:function(){var e=this,t=function(e,t,r){""===t?r(new Error("请输入手机号")):/^[1][3,4,5,7,8][0-9]{9}$/.test(t)||r(new Error("请输入正确格式手机号")),r()},r=function(t,r,n){""===r?n(new Error("请输入验证码")):r!=e.formTag.phoneIdent&&4!=r.length&&n(new Error("验证码不正确")),n()};return{formTag:{phonenumber:"",phoneIdent:""},rules1:{phonenumber:[{trigger:"blur",validator:t,required:!0}],phoneIdent:[{trigger:"blur",validator:r,required:!0}]},btnContent:"获取验证码",disabled:!1,time:60}},methods:{phoneSubmit:function(e){},getCode:function(){},timer:function(){}}},l=m,u=r("KHd+"),d=Object(u["a"])(l,s,i,!1,null,null,null),c=d.exports,p=c,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-con"},[r("Form",{ref:"mima",attrs:{model:e.formmima,rules:e.rules}},[r("FormItem",{attrs:{prop:"userName"}},[r("Input",{attrs:{placeholder:"请输入用户名"},model:{value:e.formmima.userName,callback:function(t){e.$set(e.formmima,"userName",t)},expression:"formmima.userName"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:18,type:"ios-person"}})],1)])],1),e._v(" "),r("FormItem",{attrs:{prop:"password"}},[r("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.formmima.password,callback:function(t){e.$set(e.formmima,"password",t)},expression:"formmima.password"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:16,type:"md-lock"}})],1)])],1),e._v(" "),r("FormItem",{attrs:{prop:"identifyNumber"}},[r("Input",{staticStyle:{width:"55%"},attrs:{size:"large",placeholder:"请输入验证码"},model:{value:e.formmima.identifyNumber,callback:function(t){e.$set(e.formmima,"identifyNumber",t)},expression:"formmima.identifyNumber"}}),e._v(" "),r("div",{staticClass:"code",staticStyle:{display:"inline-block"},on:{click:e.refreshCode}},[r("img",{ref:"imag",attrs:{id:"code",src:e.url}})])],1),e._v(" "),r("FormItem",[r("Button",{staticStyle:{width:"100%"},attrs:{type:"primary",long:""},on:{click:e.handleSubmit}},[e._v("登录")])],1)],1)],1)},h=[],b={name:"mima",props:{userNameRules:{type:Array,default:function(){return[{required:!0,message:"账号不能为空",trigger:"blur"}]}},passwordRules:{type:Array,default:function(){return[{required:!0,message:"密码不能为空",trigger:"blur"}]}},identifyNumberRules:{type:Array,default:function(){return[{required:!0,message:"验证码不能为空",trigger:"blur"}]}}},data:function(){return{url:"/sso/getCode",formmima:{userName:"xiao",password:"",identifyNumber:""}}},computed:{rules:function(){return{userName:this.userNameRules,password:this.passwordRules,identifyNumber:this.identifyNumberRules}}},methods:{handleSubmit:function(){var e=this;console.log(1),this.$refs.mima.validate(function(t){console.log(2),t&&(console.log(3),e.$emit("on-success-mima",{userName:e.formmima.userName,password:e.formmima.password,code:e.formmima.identifyNumber}))})},refreshCode:function(){var e="/msa/sso/getCode",t=(new Date).valueOf();this.url=e+"?time="+t}}},g=b,v=Object(u["a"])(g,f,h,!1,null,null,null),y=v.exports,w=y,I=r("L2JU"),N={data:function(){return{rules1:{type:Array}}},created:function(){},components:{mima:w,phone:p},methods:Object(o["a"])({},Object(I["b"])(["handleLogin","getUserInfo"]),{handleSubmit:function(e){var t=this,r=e.userName,n=e.password,a=e.code;console.log(4),this.handleLogin({userName:r,password:n,code:a}).then(function(e){t.$router.push({name:"home"})})}})},_=N,S=(r("ibgS"),r("IVIS"),Object(u["a"])(_,n,a,!1,null,null,null));t["default"]=S.exports},IVIS:function(e,t,r){"use strict";var n=r("mN2v"),a=r.n(n);a.a},J6d8:function(e,t,r){},ibgS:function(e,t,r){"use strict";var n=r("J6d8"),a=r.n(n);a.a},mN2v:function(e,t,r){}}]);