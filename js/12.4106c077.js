(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"+0Mp":function(t,e,a){"use strict";var o=a("erUW"),l=a.n(o);l.a},Reda:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"search"},[a("h1",{staticStyle:{"text-align":"center"}},[a("Icon",{attrs:{type:"logo-apple"}}),t._v("角色管理")],1),t._v(" "),a("Row",{staticStyle:{"padding-top":"10px"}},[a("Col",{staticStyle:{"padding-left":"20px"},attrs:{span:"24"}},[a("span",[t._v("角色编码:")]),t._v(" "),a("Input",{staticStyle:{width:"120px"},attrs:{type:"text"},model:{value:t.bianma,callback:function(e){t.bianma=e},expression:"bianma"}}),t._v("\n                  \n        "),a("span",[t._v("角色名称:")]),t._v(" "),a("Input",{staticStyle:{width:"120px"},attrs:{type:"text"},model:{value:t.mingcheng,callback:function(e){t.mingcheng=e},expression:"mingcheng"}}),t._v("\n         \n        "),a("Button",{attrs:{icon:"ios-search",type:"primary",size:"large"},on:{click:t.handleSearch}}),t._v("\n         \n        "),a("Button",{attrs:{type:"primary",size:"large"},on:{click:t.handleCancel}},[t._v("重置")])],1)],1),t._v(" "),a("Row",{staticStyle:{padding:"5px 20px"}},[a("Col",{attrs:{span:"24"}},[a("Button",{attrs:{size:"large"},on:{click:t.addRow}},[t._v("新增")]),t._v(" "),a("Modal",{attrs:{title:"新增角色信息"},on:{"on-ok":t.addRole},model:{value:t.showRole,callback:function(e){t.showRole=e},expression:"showRole"}},[a("Row",[a("Col",{attrs:{span:"4",offset:"2"}},[a("span",{staticClass:"addleft",staticStyle:{height:"32px","line-height":"32px"}},[t._v("角色编码:")])]),t._v(" "),a("Col",{attrs:{span:"10"}},[a("Input",{staticClass:"line-block",model:{value:t.addId,callback:function(e){t.addId=e},expression:"addId"}})],1)],1),t._v(" "),a("br"),t._v(" "),a("Row",[a("Col",{attrs:{span:"4",offset:"2"}},[a("span",{staticClass:"addleft",staticStyle:{height:"32px","line-height":"32px"}},[t._v("角色名称:")])]),t._v(" "),a("Col",{attrs:{span:"10"}},[a("Input",{staticClass:"line-block",model:{value:t.addName,callback:function(e){t.addName=e},expression:"addName"}})],1)],1),t._v(" "),a("br"),t._v(" "),a("Row",[a("Col",{attrs:{span:"4",offset:"2"}},[a("span",{staticClass:"addleft"},[t._v("创建日期:")])]),t._v(" "),a("Col",{attrs:{span:"10"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"选择日期"},on:{"on-change":t.addChangeDate},model:{value:t.addDate,callback:function(e){t.addDate=e},expression:"addDate"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"24"}},[a("Card",[a("div",{staticClass:"editable-con-1"},[a("Table",{attrs:{columns:t.columnsList,data:t.data1}}),t._v(" "),a("Modal",{attrs:{title:"编辑角色"},on:{"on-ok":t.editRoleOk},model:{value:t.editRole,callback:function(e){t.editRole=e},expression:"editRole"}},[a("Row",[a("Col",{attrs:{span:"4",offset:"2"}},[a("span",{staticClass:"addleft",staticStyle:{height:"32px","line-height":"32px"}},[t._v("角色编码:")])]),t._v(" "),a("Col",{attrs:{span:"10"}},[a("span",{staticClass:"addleft"},[t._v(t._s(t.editId))])])],1),t._v(" "),a("br"),t._v(" "),a("Row",[a("Col",{attrs:{span:"4",offset:"2"}},[a("span",{staticClass:"addleft",staticStyle:{height:"32px","line-height":"32px"}},[t._v("角色名称:")])]),t._v(" "),a("Col",{attrs:{span:"10"}},[a("Input",{staticClass:"line-block",attrs:{placeholder:t.editName},model:{value:t.editNameNew,callback:function(e){t.editNameNew=e},expression:"editNameNew"}})],1)],1),t._v(" "),a("br"),t._v(" "),a("Row",[a("Col",{attrs:{span:"4",offset:"2"}},[a("span",{staticClass:"addleft"},[t._v("创建日期:")])]),t._v(" "),a("Col",{attrs:{span:"10"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"选择日期"},on:{"on-change":t.addChangeDate},model:{value:t.addDate,callback:function(e){t.addDate=e},expression:"addDate"}})],1)],1)],1),t._v("\n          <"),a("Modal",{attrs:{title:"分配菜单"},model:{value:t.allocationRole,callback:function(e){t.allocationRole=e},expression:"allocationRole"}},[a("Row",[a("Col",{attrs:{span:"4",offset:"2"}},[a("span",{staticClass:"addleft"},[t._v("角色编码:")])]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",{staticClass:"addleft"},[a("strong",[t._v(t._s(t.allocationId))])])]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",{staticClass:"addleft"},[t._v("角色名称:")])]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",{staticClass:"addleft"},[a("strong",[t._v(t._s(t.allocationName))])])])],1),t._v(" "),a("hr"),t._v(" "),a("Tree",{attrs:{data:t.treeData,"show-checkbox":"",multiple:""}})],1)],1)])],1)],1)],1)},l=[];function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t){return i="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},i(t)}var s=a("oyJW"),d=(a("VRzm"),{name:"home",data:function(){var t,e=this;return t={columnsList:[{type:"index",title:"排序",width:60,align:"center"},{title:"角色编码",key:"roleId",width:100,align:"center"},{title:"角色名称",align:"center",key:"roleName",editable:!0},{title:"创建人员",align:"center",key:"name",editable:!0},{title:"创建日期",align:"center",key:"date",editable:!0},{title:"操作",align:"center",width:300,key:"handle",handle:["编辑","分配菜单"],render:function(t,a){return t("div",[t("Button",{props:{type:"info",size:"default"},style:{marginRight:"10px"},on:{click:function(){e.editOpen(a.row)}}},"编辑"),t("Button",{props:{type:"success",size:"default"},on:{click:function(){e.allocation(a.row)}}},"分配菜单")])}}],treeData:[{title:"parent 1",expand:!0,selected:!0,children:[{title:"parent 1-1",expand:!0,children:[{title:"leaf 1-1-1",disabled:!0},{title:"leaf 1-1-2"}]},{title:"parent 1-2",expand:!0,children:[{title:"leaf 1-2-1",checked:!0},{title:"leaf 1-2-1"}]}]},{title:"parent 1",expand:!0,selected:!0,children:[{title:"parent 1-1",expand:!0,children:[{title:"leaf 1-1-1",disabled:!0},{title:"leaf 1-1-2"}]},{title:"parent 1-2",expand:!0,children:[{title:"leaf 1-2-1",checked:!0},{title:"leaf 1-2-1"}]}]}],data1:[],bianma:"",mingcheng:"",showRole:!1,addId:"",addName:"",addDate:"",editRole:!1,allocationRole:!1,editId:"",editName:"",editNameNew:"",editindex:""},Object(s["a"])(t,"allocationRole",!1),Object(s["a"])(t,"allocationIndex",""),Object(s["a"])(t,"allocationId",""),Object(s["a"])(t,"allocationName",""),Object(s["a"])(t,"date1",""),t},created:function(){this.init()},methods:{init:function(){var t=this;this.$axios({url:"/msa/sso/role/getAllRole",method:"get"}).then(function(e){var a=e.data;t.data1=a}).catch(function(t){console.log(t)})},handleCancel:function(){this.bianma="",this.mingcheng=""},handleSearch:function(){var t=this;console.log(this.bianma),console.log(this.mingcheng),console.log(i(this.mingcheng));var e="/msa/sso/role/searchRole";this.$axios({url:e,method:"get",params:{roleId:""!=this.bianma?parseInt(this.bianma):"",roleName:this.mingcheng}}).then(function(e){console.log(e.data),t.data1=e.data}).catch(function(t){})},addRow:function(){this.showRole=!0},addChangeDate:function(t){this.addDate=t,console.log(this.addDate)},addRole:function(){console.log(this.addId),console.log(this.addName),console.log(this.addDate);var t="/msa/sso/role/saveRole";this.$axios({url:t,method:"post",data:{roleId:this.addId,roleName:this.addName}}).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})},editOpen:function(t){console.log(t),this.editRole=!0,this.editindex=t,this.editId=t.roleId,this.editName=t.roleName},editRoleOk:function(){var t=this;this.editId=this.editindex.roleId,this.editName=this.editindex.roleName,this.$axios({url:"/msa/sso/role/saveRole",method:"post",data:{roleId:this.editId,roleName:this.editNameNew}}).then(function(e){console.log(e.data),1==e.data.success?(t.$Message.config({top:200,duration:2,content:e.data.message}),t.init()):t.$Message.success(e.data.message)}).catch(function(t){console.log(t)})},allocation:function(t){console.log(t),this.allocationRole=!0,this.allocationIndex=t,this.allocationId=t.roleId,this.allocationName=t.roleName,this.$axios({url:"/msa/sso/menu/getAllMenuByRole",method:"get",params:{roleId:1}}).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})}}}),c=d,r=(a("+0Mp"),a("KHd+")),p=Object(r["a"])(c,o,l,!1,null,null,null);e["default"]=p.exports},erUW:function(t,e,a){}}]);